# This file was generated by Ansible for {{ansible_fqdn}}
# Do NOT modify this file by hand!
{% if inventory_hostname in groups['collectd'] %}
# Python plugins to monitor OpenStack Cinder

<Plugin "python">
  ModulePath "{{ collectd_plugins_dir }}/collectd-modules"
  LogTraces false
  Interactive false

  Import "openstack_cinder"

  <Module "openstack_cinder">
    DependsOnResource "internal_lb_vip_address"
    KeystoneUrl "{{ keystone_service_internaluri }}/v2.0"
    MaxRetries "3"
    Password "{{ monitoring_user_password }}"
    Tenant "{{ monitoring_tenant_name }}"
    Timeout "5"
    Username "{{ monitoring_user_name }}"
  </Module>

  Import "openstack_cinder_services"

  <Module "openstack_cinder_services">
    DependsOnResource "internal_lb_vip_address"
    KeystoneUrl "{{ keystone_service_internaluri }}/v2.0"
    MaxRetries "3"
    Password "{{ monitoring_user_password }}"
    Tenant "{{ monitoring_tenant_name }}"
    Timeout "5"
    Username "{{ monitoring_user_name }}"
  </Module>

</Plugin>
<% endif %>