# This file was generated by Ansible for {{ansible_fqdn}}
# Do NOT modify this file by hand!

[[inputs.io]]
[[inputs.system]]
[[inputs.mem]]
[[inputs.netstat]]
[[inputs.mem]]

{%- if inventory_hostname in groups['all_containers'] %}
[[inputs.cpu]]
  percpu = false
[[inputs.diskio]]
[[inputs.net]]
{%- else %}
[[inputs.cpu]]
  percpu = true
  totalcpu = true
  fielddrop = ["time_*"]
[[inputs.processes]]
[[inputs.conntrack]]
  files = ["ip_conntrack_count","ip_conntrack_max", "nf_conntrack_count","nf_conntrack_max"]
  dirs = ["/proc/sys/net/ipv4/netfilter","/proc/sys/net/netfilter"]    
[[inputs.net]]
  interfaces = "{{ telegraf_interfaces_filter }}
[[inputs.disk]]
  ignore_fs = ["tmpfs", "devtmpfs"]
  mount_points = "{{ telegraf_mount_points_filter }}"
[[inputs.diskio]]
  devices = "{{ telegraf_disks_filter }}"
[[inputs.kernel]]
[[inputs.swap]]
[[inputs.bond]]
{%- endif %}