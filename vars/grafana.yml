# Grafana server vars
grafana_version: latest
grafana_instance: "{{ ansible_fqdn | default(ansible_host) | default(inventory_hostname) }}"
grafana_address: "{{ hostvars[inventory_hostname]['ansible_host'] | default('0.0.0.0') }}"
grafana_port: 8089 
# Grafana database vars
grafana_database:
  type: mysql
  host: "{{ galera_address|default('127.0.0.1') }}:3306"
  name: grafana
  user: grafana
  password: "{{ grafana_password_secret }}"

# Grafana security vars
grafana_security:
  admin_user: admin
  admin_password: "{{ grafana_admin_password_secret }}"

grafana_datasources: []
  - name: "InfluxDB"
    type: "influxdb"
    access: "proxy"
    url: "{{ influxdb_protocol|default('http') }}://{{ influxdb_host|default(internal_lb_vip_address) }}:{{ influxdb_port }}"
    basicAuth: true
    basicAuthUser: "admin"
    basicAuthPassword: "password"
    isDefault: true

grafana_plugins: ['grafana-clock-panel']